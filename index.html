<!doctype html> <html lang="en" class="no-js"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="description" content="Algorithm of Cubic Hermite Spline for TrueType Font and It's Possible Applications"> <meta name="author" content="老曾"> <link rel="next" href="applications/"> <link rel="shortcut icon" type="image/x-icon" href="Logo.ico?"> <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.15"> <title>Cubic Spline for TrueType Font</title> <link rel="stylesheet" href="assets/stylesheets/main.7e359304.min.css"> <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css"> <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg>');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"/></svg>');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.499.75a.75.75 0 0 1 1.5 0v.996C5.9 2.903 6.793 3.65 7.662 4.376l.24.202c-.036-.694.055-1.422.426-2.163C9.1.873 10.794-.045 12.622.26 14.408.558 16 1.94 16 4.25c0 1.278-.954 2.575-2.44 2.734l.146.508.065.22c.203.701.412 1.455.476 2.226.142 1.707-.4 3.03-1.487 3.898C11.714 14.671 10.27 15 8.75 15h-6a.75.75 0 0 1 0-1.5h1.376a4.484 4.484 0 0 1-.563-1.191 3.835 3.835 0 0 1-.05-2.063 4.647 4.647 0 0 1-2.025-.293.75.75 0 0 1 .525-1.406c1.357.507 2.376-.006 2.698-.318l.009-.01a.747.747 0 0 1 1.06 0 .748.748 0 0 1-.012 1.074c-.912.92-.992 1.835-.768 2.586.221.74.745 1.337 1.196 1.621H8.75c1.343 0 2.398-.296 3.074-.836.635-.507 1.036-1.31.928-2.602-.05-.603-.216-1.224-.422-1.93l-.064-.221c-.12-.407-.246-.84-.353-1.29a2.425 2.425 0 0 1-.507-.441 3.075 3.075 0 0 1-.633-1.248.75.75 0 0 1 1.455-.364c.046.185.144.436.31.627.146.168.353.305.712.305.738 0 1.25-.615 1.25-1.25 0-1.47-.95-2.315-2.123-2.51-1.172-.196-2.227.387-2.706 1.345-.46.92-.27 1.774.019 3.062l.042.19a.884.884 0 0 1 .01.05c.348.443.666.949.94 1.553a.75.75 0 1 1-1.365.62c-.553-1.217-1.32-1.94-2.3-2.768L6.7 5.527c-.814-.68-1.75-1.462-2.692-2.619a3.737 3.737 0 0 0-1.023.88c-.406.495-.663 1.036-.722 1.508.116.122.306.21.591.239.388.038.797-.06 1.032-.19a.75.75 0 0 1 .728 1.31c-.515.287-1.23.439-1.906.373-.682-.067-1.473-.38-1.879-1.193L.75 5.677V5.5c0-.984.48-1.94 1.077-2.664.46-.559 1.05-1.055 1.673-1.353V.75Z"/></svg>');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.92 6.085h.001a.749.749 0 1 1-1.342-.67c.169-.339.436-.701.849-.977C6.845 4.16 7.369 4 8 4a2.756 2.756 0 0 1 1.637.525c.503.377.863.965.863 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.103-.067.207-.132.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/></svg>');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M2.344 2.343h-.001a8 8 0 0 1 11.314 11.314A8.002 8.002 0 0 1 .234 10.089a8 8 0 0 1 2.11-7.746Zm1.06 10.253a6.5 6.5 0 1 0 9.108-9.275 6.5 6.5 0 0 0-9.108 9.275ZM6.03 4.97 8 6.94l1.97-1.97a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-1.97 1.97a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L6.94 8 4.97 6.03a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018Z"/></svg>');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M9.504.43a1.516 1.516 0 0 1 2.437 1.713L10.415 5.5h2.123c1.57 0 2.346 1.909 1.22 3.004l-7.34 7.142a1.249 1.249 0 0 1-.871.354h-.302a1.25 1.25 0 0 1-1.157-1.723L5.633 10.5H3.462c-1.57 0-2.346-1.909-1.22-3.004L9.503.429Zm1.047 1.074L3.286 8.571A.25.25 0 0 0 3.462 9H6.75a.75.75 0 0 1 .694 1.034l-1.713 4.188 6.982-6.793A.25.25 0 0 0 12.538 7H9.25a.75.75 0 0 1-.683-1.06l2.008-4.418.003-.006a.036.036 0 0 0-.004-.009l-.006-.006-.008-.001c-.003 0-.006.002-.009.004Z"/></svg>');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M4.72.22a.75.75 0 0 1 1.06 0l1 .999a3.488 3.488 0 0 1 2.441 0l.999-1a.748.748 0 0 1 1.265.332.75.75 0 0 1-.205.729l-.775.776c.616.63.995 1.493.995 2.444v.327c0 .1-.009.197-.025.292.408.14.764.392 1.029.722l1.968-.787a.75.75 0 0 1 .556 1.392L13 7.258V9h2.25a.75.75 0 0 1 0 1.5H13v.5c0 .409-.049.806-.141 1.186l2.17.868a.75.75 0 0 1-.557 1.392l-2.184-.873A4.997 4.997 0 0 1 8 16a4.997 4.997 0 0 1-4.288-2.427l-2.183.873a.75.75 0 0 1-.558-1.392l2.17-.868A5.036 5.036 0 0 1 3 11v-.5H.75a.75.75 0 0 1 0-1.5H3V7.258L.971 6.446a.75.75 0 0 1 .558-1.392l1.967.787c.265-.33.62-.583 1.03-.722a1.677 1.677 0 0 1-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72 1.28a.75.75 0 0 1 0-1.06Zm.53 6.28a.75.75 0 0 0-.75.75V11a3.5 3.5 0 1 0 7 0V7.25a.75.75 0 0 0-.75-.75ZM6.173 5h3.654A.172.172 0 0 0 10 4.827V4.5a2 2 0 1 0-4 0v.327c0 .096.077.173.173.173Z"/></svg>');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 0 1 0-1.5h6.5a.75.75 0 0 1 0 1.5H11v3.282l3.666 5.76C15.619 13.04 14.543 15 12.767 15H3.233c-1.776 0-2.852-1.96-1.899-3.458Zm-2.4 6.565a.75.75 0 0 0 .633 1.153h9.534a.75.75 0 0 0 .633-1.153L12.225 10.5h-8.45ZM9.5 2.5h-3V6c0 .143-.04.283-.117.403L4.73 9h6.54L9.617 6.403A.746.746 0 0 1 9.5 6Z"/></svg>');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"/></svg>');}</style> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"> <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style> <link rel="stylesheet" href="stylesheets/extra.css"> <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script> <link href="assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style> html.glightbox-open { overflow: initial; height: 100%; } .gslide-title { margin-top: 0px; user-select: text; } .gslide-desc { color: #666; user-select: text; } .gslide-image img { background: white; } .gscrollbar-fixer { padding-right: 15px; } .gdesc-inner { font-size: 0.75rem; } body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);} body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);} body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="assets/javascripts/glightbox.min.js"></script></head> <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="pink"> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a href="#about-this-site" class="md-skip"> Skip to content </a> </div> <div data-md-component="announce"> </div> <div data-md-color-scheme="default" data-md-component="outdated" hidden> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav class="md-header__inner md-grid" aria-label="Header"> <a href="." title="Cubic Spline for TrueType Font" class="md-header__button md-logo" aria-label="Cubic Spline for TrueType Font" data-md-component="logo"> <img src="assets/logo1.png" alt="logo"> </a> <label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> Cubic Spline for TrueType Font </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Cubic Font Spline </span> </div> </div> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" > <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a href="." title="Cubic Spline for TrueType Font" class="md-nav__button md-logo" aria-label="Cubic Spline for TrueType Font" data-md-component="logo"> <img src="assets/logo1.png" alt="logo"> </a> Cubic Spline for TrueType Font </label> <ul class="md-nav__list" data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc"> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Cubic Font Spline </span> <span class="md-nav__icon md-icon"></span> </label> <a href="." class="md-nav__link md-nav__link--active"> <span class="md-ellipsis"> Cubic Font Spline </span> </a> <nav class="md-nav md-nav--secondary" aria-label="On this page"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> On this page </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix> <li class="md-nav__item"> <a href="#about-this-site" class="md-nav__link"> <span class="md-ellipsis"> About this site </span> </a> </li> <li class="md-nav__item"> <a href="#what-is-cubic-font-spline" class="md-nav__link"> <span class="md-ellipsis"> What is Cubic Font Spline? </span> </a> </li> <li class="md-nav__item"> <a href="#how-does-cubic-font-spline-work" class="md-nav__link"> <span class="md-ellipsis"> How does cubic font spline work? </span> </a> </li> <li class="md-nav__item"> <a href="#how-well-does-it-perform" class="md-nav__link"> <span class="md-ellipsis"> How well Does it perform? </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a href="applications/" class="md-nav__link"> <span class="md-ellipsis"> Applications </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1>Cubic Font Spline</h1> <div><h2 id="about-this-site">About this site<a class="headerlink" href="#about-this-site" title="Permanent link">¶</a></h2> <p>This site explains what <em>Cubic Font Spline</em> algorithm is all about and it's possible applications in real world.</p> <h2 id="what-is-cubic-font-spline">What is Cubic Font Spline?<a class="headerlink" href="#what-is-cubic-font-spline" title="Permanent link">¶</a></h2> <p><em>Cubic Font Spline</em> is an algorithm designed to generate cubic spline curves from TrueType font data. It is to be used in game industry to serve as a spline making tool in PCG (prodedural content generation) and other VFX that utilizes cubic splines. The following is a glimpse of the principle mathematical methods that underlie the alorithm.</p> <h3 id="truetype-from-a-mathematical-point-of-view">TrueType from a mathematical point of view<a class="headerlink" href="#truetype-from-a-mathematical-point-of-view" title="Permanent link">¶</a></h3> <p><em>TrueType</em> technology is powered by the quadratic <em>Bézier</em> curve defined by a parameterized function shown bellow.</p> <div class="arithmatex">\[ B(t)=P_1+(1-t)^2(P_0-P_1)+t^2(P_2-P_1), \hspace{0.3cm} 0 \le t \le 1 \]</div> <p>Where <span class="arithmatex">\(P_0\)</span>, <span class="arithmatex">\(P_1\)</span>, and <span class="arithmatex">\(P_2\)</span> are the control points at different locations in space.</p> <h3 id="cubic-hermite-spline">Cubic Hermite spline<a class="headerlink" href="#cubic-hermite-spline" title="Permanent link">¶</a></h3> <p>In computer graphics related industries, cubic <em>Hermite</em> spline is widely used. It is defined by the following parametric function.</p> <div class="arithmatex">\[ P(t)=(2P_0+m_0-2P_1+m_1)t^3+(-3P_0+3P_1-2m_0-m_1)t^2+m_0t+P_0, \hspace{0.3cm} 0 \le t \le 1 \]</div> <p>Where <span class="arithmatex">\(P_0\)</span> and <span class="arithmatex">\(P_1\)</span> are the control points of the curve, <span class="arithmatex">\(m_0\)</span> and <span class="arithmatex">\(m_1\)</span> are the tangents at <span class="arithmatex">\(P_0\)</span> and <span class="arithmatex">\(P_1\)</span> respectively.</p> <p><em>Bézier curve</em> and <em>Hermite spline</em> are different in nature. They have different pratical applications in real world, and cannot be used interchangeablely. <a href="https://graphics.stanford.edu/courses/cs148-09/lectures/splines.pdf">This link</a> might be a good place to start with in case you want to know more about this topic.</p> <h3 id="cubic-font-spline">Cubic font spline<a class="headerlink" href="#cubic-font-spline" title="Permanent link">¶</a></h3> <p><em>Cubic Font Spline</em> algorithmically creates control points for cubic Hermite spline from the outline of a TrueType font character defined by quadratic <em>Bézier</em> curves. The algorithm is carefully designed to guarantee the cubic Hermite spline curves generated from those control points look exactly the same as the original <em>Bézier</em> curves.</p> <h2 id="how-does-cubic-font-spline-work">How does cubic font spline work?<a class="headerlink" href="#how-does-cubic-font-spline-work" title="Permanent link">¶</a></h2> <p>The algorithm is implemented in C++ language as a dynamic link library. The library has a simple interface, and can be seasily integrated into other systems. The following code fragment shows what the library interface looks like.</p> <div class="highlight"><span class="filename">The Cubic Font Spline Library</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><a href="#__codelineno-0-1"><span class="linenos" data-linenos="1 "></span></a><span class="k">namespace</span><span class="w"> </span><span class="nn">CubicFontSpline</span> <a id="__codelineno-0-2" name="__codelineno-0-2"></a><a href="#__codelineno-0-2"><span class="linenos" data-linenos="2 "></span></a><span class="p">{</span> <a id="__codelineno-0-3" name="__codelineno-0-3"></a><a href="#__codelineno-0-3"><span class="linenos" data-linenos="3 "></span></a><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">CUBICFONTSPLINELIBRARY_API</span><span class="w"> </span><span class="n">FontOutlineLib</span> <a id="__codelineno-0-4" name="__codelineno-0-4"></a><a href="#__codelineno-0-4"><span class="linenos" data-linenos="4 "></span></a><span class="w"> </span><span class="p">{</span> <a id="__codelineno-0-5" name="__codelineno-0-5"></a><a href="#__codelineno-0-5"><span class="linenos" data-linenos="5 "></span></a><span class="w"> </span><span class="k">public</span><span class="o">:</span> <a id="__codelineno-0-6" name="__codelineno-0-6"></a><a href="#__codelineno-0-6"><span class="linenos" data-linenos="6 "></span></a><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">FontOutlineV</span><span class="o">&gt;</span><span class="w"> </span><span class="n">GetSplines</span><span class="p">(</span><span class="kt">wchar_t</span><span class="w"> </span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">strFontFileName</span><span class="p">);</span> <a id="__codelineno-0-7" name="__codelineno-0-7"></a><a href="#__codelineno-0-7"><span class="linenos" data-linenos="7 "></span></a><span class="w"> </span><span class="p">};</span> <a id="__codelineno-0-8" name="__codelineno-0-8"></a><a href="#__codelineno-0-8"><span class="linenos" data-linenos="8 "></span></a><span class="p">}</span> </code></pre></div> <p>The parameter <em>c</em> holds the Unicode value of the character who's control point data are to be extracted, and <em>strFontFileName</em> holds the TrueType font file name. The return value of type <em>FontOutlineV</em> of the function holds the control points of the generated cubic Hermite splines.</p> <h2 id="how-well-does-it-perform">How well Does it perform?<a class="headerlink" href="#how-well-does-it-perform" title="Permanent link">¶</a></h2> <p>Performance analyses were carried out both in terms of runtime efficiency and degree of congruity between the two categories of splines.</p> <h3 id="1-runtime-efficiency">1. Runtime efficiency<a class="headerlink" href="#1-runtime-efficiency" title="Permanent link">¶</a></h3> <p>A program was developed to collect several key data at runtime. Table 1 lists the values recorded during the test run. Meaning of each column is as follows.</p> <ol> <li>Font name.</li> <li>Number of characters evaluated in each file.</li> <li>Maximum number of control points (Max CPs) in characters from one font file.</li> <li>Minimum number of control points (Min CPs) in characters from one font file.</li> <li>Average number of control points (Avg CPs) of one character.</li> <li>Total elapsed time for generating control points for all the characters in one font file.</li> <li>Average elapsed time (Avg Time) for generating control points for one character.</li> </ol> <table> <thead> <tr> <th>Font Name</th> <th>Example</th> <th>Number of Characters</th> <th>Max CPs</th> <th>Min CPs</th> <th>Avg CPs</th> <th>Total Time (ms)</th> <th>Avg Time (ms)</th> </tr> </thead> <tbody> <tr> <td>Arial</td> <td><a class="glightbox" href="assets/images/font-icons/Arial.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Arial" src="assets/images/font-icons/Arial.png" width="40"></a></td> <td>94</td> <td>118</td> <td>4</td> <td>27.7</td> <td>4.6</td> <td>0.049</td> </tr> <tr> <td>Times New Roman</td> <td><a class="glightbox" href="assets/images/font-icons/TimeNewRoman.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Times New Roman" src="assets/images/font-icons/TimeNewRoman.png" width="40"></a></td> <td>94</td> <td>114</td> <td>4</td> <td>43.8</td> <td>5.99</td> <td>0.063</td> </tr> <tr> <td>STZhongsong</td> <td><a class="glightbox" href="assets/images/font-icons/STZhongsongRegular.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="STZhongsongRegular" src="assets/images/font-icons/STZhongsongRegular.png" width="40"></a></td> <td>20902</td> <td>732</td> <td>16</td> <td>209.81</td> <td>2620.33</td> <td>0.125</td> </tr> <tr> <td>SimSun</td> <td><a class="glightbox" href="assets/images/font-icons/SimSun.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="SimSun" src="assets/images/font-icons/SimSun.png" width="40"></a></td> <td>27648</td> <td>427</td> <td>7</td> <td>126.40</td> <td>2343.98</td> <td>0.084</td> </tr> <tr> <td>JhengHei</td> <td><a class="glightbox" href="assets/images/font-icons/MicrosoftJhengHei.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MicrosoftJhengHei" src="assets/images/font-icons/MicrosoftJhengHei.png" width="40"></a></td> <td>50734</td> <td>316</td> <td>4</td> <td>51.11</td> <td>2329.59</td> <td>0.045</td> </tr> <tr> <td>Dubai</td> <td><a class="glightbox" href="assets/images/font-icons/Dubai.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Dubai" src="assets/images/font-icons/Dubai.png" width="40"></a></td> <td>940</td> <td>346</td> <td>4</td> <td>15.69</td> <td>27.70</td> <td>0.029</td> </tr> <tr> <td>MSGothic</td> <td><a class="glightbox" href="assets/images/font-icons/MSGothicRegular.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MSGothicRegular" src="assets/images/font-icons/MSGothicRegular.png" width="40"></a></td> <td>447</td> <td>99</td> <td>4</td> <td>19.87</td> <td>37.18</td> <td>0.083</td> </tr> <tr> <td>Malgun Gothic</td> <td><a class="glightbox" href="assets/images/font-icons/MalgunGothic.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MalgunGothic" src="assets/images/font-icons/MalgunGothic.png" width="40"></a></td> <td>11172</td> <td>123</td> <td>10</td> <td>57.57</td> <td>856.47</td> <td>0.076</td> </tr> <tr> <td>Himalaya</td> <td><a class="glightbox" href="assets/images/font-icons/MicrosoftHimalayaRegular.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MicrosoftHimalayaRegular" src="assets/images/font-icons/MicrosoftHimalayaRegular.png" width="40"></a></td> <td>219</td> <td>394</td> <td>4</td> <td>92.90</td> <td>12.14</td> <td>0.055</td> </tr> <tr> <td>TaiLe</td> <td><a class="glightbox" href="assets/images/font-icons/MicrosoftTaiLe.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MicrosoftTaiLe" src="assets/images/font-icons/MicrosoftTaiLe.png" width="40"></a></td> <td>2357</td> <td>123</td> <td>4</td> <td>8.99</td> <td>38.35</td> <td>0.016</td> </tr> <tr> <td>Monogolian Baiti</td> <td><a class="glightbox" href="assets/images/font-icons/MonogolianBaitiRegular.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MonogolianBaitiRegular" src="assets/images/font-icons/MonogolianBaitiRegular.png" width="40"></a></td> <td>155</td> <td>399</td> <td>9</td> <td>91.82</td> <td>8.51</td> <td>0.054</td> </tr> <tr> <td>Myanmar Text</td> <td><a class="glightbox" href="assets/images/font-icons/MyanmarText.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="MyanmarText" src="assets/images/font-icons/MyanmarText.png" width="40"></a></td> <td>43</td> <td>375</td> <td>62</td> <td>124.35</td> <td>3.00</td> <td>0.069</td> </tr> </tbody> </table> <p>Total of 10 font faces of various languages were used in the test. Performance varies from character to character affected by the number of control points a character has. Fig. 1 shows the relationship between average number of control points and the generation time.</p> <figure> <a class="glightbox" href="assets/images/algorithm-performance.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Performance" src="assets/images/algorithm-performance.png" width="460"></a> <figcaption>Fig.1 Runtime Performance Of The Algorithm(click to enlarge)</figcaption> </figure> <p>Tests were carried out on an old platform with an Intel Core i7-10875H CPU running at 2.30GHz. Code was compiled against <em>Microsoft C++</em> compiler version 19.39.33523.</p> <h3 id="2-degree-of-congruity">2. Degree of congruity<a class="headerlink" href="#2-degree-of-congruity" title="Permanent link">¶</a></h3> <p>Degree of congruity can be measured both objectively and subjectively. Subjective method is adopted. To evaluate the resemblance between the two categories of splines, visual resprentation of the cubic splines has to be created.</p> <h4 id="visualization-of-the-cubic-hermite-splines">Visualization of the cubic Hermite splines<a class="headerlink" href="#visualization-of-the-cubic-hermite-splines" title="Permanent link">¶</a></h4> <p>An Unreal Engine editor plugin was developed to visualize the spline curves. Fig. 2 shows a screen shot of the editor with cubic splines of a chinese character rendered.</p> <figure> <a class="glightbox" href="assets/images/editor-UI.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Font Spline Editor UI" src="assets/images/editor-UI.png" width="600"></a> <figcaption>Fig. 2 Unreal Engine Editor Plugin For Qubic Hermite Splines (click to enlarge)</figcaption> </figure> <p>The rendered curves depict the Chinese character for the word "spring". Control points are shown along with the curves. The coordinate system is drawn to give a hint of how the character was made by the font face manufacturer.</p> <h4 id="congruity-between-the-two-categories-of-splines">Congruity between the two categories of splines<a class="headerlink" href="#congruity-between-the-two-categories-of-splines" title="Permanent link">¶</a></h4> <p>The method of checking the degree of visual resemblance between the two types of splines is straight forward. A set of randomly selected characters are rendered with the editor and the operating system respectively. The resulting images are processed and stacked on top of each other as shown in Fig. 3. So far, no obvious visual discrepancy between the two algorithms can be observed. All the tests were performed on <em>Microsoft Windows</em>, and the images were processed with <em>GIMP</em>.</p> <figure> <a class="glightbox" href="assets/images/spline-comparison.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Algorithm Comparison" src="assets/images/spline-comparison.png" width="360"></a> <figcaption>Fig.3 Quadratic Bézier curves (in blue color) and cubic Hermite splines (in orange color) comparison (click to enlarge)</figcaption> </figure> <p>The rendering result of the <em>Bézier</em> curves and control points of the character "春" is shown below in Fig. 4 for comparison reasons. It was rendered with <em>Microsoft Excel</em>.</p> <figure> <a class="glightbox" href="assets/images/font-outline-and-rendering.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Bézier Curves" src="assets/images/font-outline-and-rendering.png" width="360"></a> <figcaption>Fig.4 Control Points of Bézier Curves (click to enlarge)</figcaption> </figure></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type="button" class="md-top md-icon" data-md-component="top" hidden> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class="md-footer"> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> <div class="md-copyright__highlight"> Copyright &copy; 2018 - 2024 老曾 </div> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.tracking", "navigation.expand", "toc.integrate", "navigation.top", "header.autohide", "content.code.copy"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src="assets/javascripts/bundle.bd41221c.min.js"></script> <script src="javascripts/mathjax.js"></script> <script src="javascripts/tex-mml-chtml.js"></script> <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"}); document$.subscribe(() => { lightbox.reload() }); </script></body> </html>